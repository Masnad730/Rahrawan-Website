{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport Loader from 'react-loader-spinner';\nimport Fade from 'react-reveal/Fade';\nimport { useSnackbar } from 'react-simple-snackbar';\nimport axios from 'axios';\nimport { options } from '../components/SnackbarNotification/settings';\n\nconst NewsLetter = () => {\n  const [openSnackbar, closeSnackbar] = useSnackbar(options); // News letter form handling\n\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(false);\n  const {\n    0: email,\n    1: setEmail\n  } = useState('');\n\n  const handleChange = e => {\n    setEmail(e.target.value);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setIsLoading(true);\n    await axios.post('https://wpbackend.navisa.af/wp-json/jwt-auth/v1/token', {\n      username: 'admin',\n      password: 'I6FR%0^hD@Z[@'\n    }).then(async res => {\n      await axios.post('https://wpbackend.navisa.af/wp-json/wp/v2/rahrawan-sub-emails', {\n        title: 'Subscribed Email - Rahrawan Travels',\n        status: 'publish',\n        fields: {\n          email: email\n        }\n      }, {\n        headers: {\n          Authorization: `Bearer ${res.data.token}`\n        }\n      }).then(res => {\n        setIsLoading(false);\n\n        if (res.status === 201) {\n          openSnackbar('Your message has been submitted successfully.');\n          setIsLoading(false);\n        } else {\n          openSnackbar('There was an error trying to send your message, Please try again.');\n          setIsLoading(false);\n        }\n\n        return res.data;\n      }).catch(err => {\n        console.log(err);\n        setIsLoading(false);\n        openSnackbar('There was an error trying to send your message, Please check your network connection and try again.');\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n    setEmail('');\n  };\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: \"newsletter\",\n    children: /*#__PURE__*/_jsx(\"div\", {\n      className: \"newsletter__wrap\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"newsletter__info-box\",\n        children: [/*#__PURE__*/_jsxs(Fade, {\n          up: true,\n          children: [/*#__PURE__*/_jsx(\"h3\", {\n            className: \"heading-primary\",\n            children: \"Subscribe to our newsletters!\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: \"newsletter__paragraph\",\n            children: \"Sign up for our mailing list to get latest updates and offers.\"\n          })]\n        }), /*#__PURE__*/_jsx(\"form\", {\n          onSubmit: handleSubmit,\n          children: /*#__PURE__*/_jsx(Fade, {\n            up: true,\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"subscribe\",\n              children: [/*#__PURE__*/_jsx(\"input\", {\n                name: \"email\",\n                type: \"email\",\n                value: email,\n                onChange: handleChange,\n                required: true,\n                className: \"subscribe__input\",\n                placeholder: \"Enter your email\"\n              }), /*#__PURE__*/_jsx(\"button\", {\n                type: \"submit\",\n                className: \"btn subscribe__btn\",\n                children: isLoading ? /*#__PURE__*/_jsx(Loader, {\n                  type: \"Oval\",\n                  color: \"#fff\",\n                  height: 15,\n                  width: 15\n                }) : 'Subscribe'\n              })]\n            })\n          })\n        })]\n      })\n    })\n  });\n};\n\nexport default NewsLetter;","map":null,"metadata":{},"sourceType":"module"}